/*C12*/SET SCHEMA PUBLIC
create table car (car_id bigint generated by default as identity (start with 1), active boolean, air_conditioner boolean, color varchar(255), free_seats integer, name varchar(255), pets_allowed boolean, picture_url varchar(255), smoking_allowed boolean, driver_id bigint, primary key (car_id))
create table car_ride_details (id bigint generated by default as identity (start with 1), active boolean, air_conditioner boolean, car_id bigint, color varchar(255), free_seats integer, name varchar(255), pets_allowed boolean, picture_url varchar(255), smoking_allowed boolean, driver_id bigint, primary key (id))
create table contact (id bigint generated by default as identity (start with 1), user_id bigint, primary key (id))
create table contact_contacts (contact_id bigint not null, contacts_user_id bigint not null)
create table my_location (location_id bigint generated by default as identity (start with 1), label varchar(255), latitude double, longitude double, user_id bigint, primary key (location_id))
create table my_notification (id bigint generated by default as identity (start with 1), description varchar(255), time_date timestamp, to_user_id bigint, by_user_id bigint, primary key (id))
create table review (review_id bigint generated by default as identity (start with 1), date_created timestamp, description varchar(255), num_of_stars integer, ride_id bigint, left_by_user_user_id bigint, primary key (review_id))
create table ride (ride_id bigint generated by default as identity (start with 1), finished boolean, price_per_seat integer, start_time timestamp, car_ride_details_id bigint, route_id bigint, primary key (ride_id))
create table ride_passengers (ride_ride_id bigint not null, passengers_user_id bigint not null)
create table ride_request (request_id bigint generated by default as identity (start with 1), response_description varchar(255), response_status integer, seats_requested integer, time_requested timestamp, request_by_user_id bigint, ride_ride_id bigint, primary key (request_id))
create table ride_route (id bigint generated by default as identity (start with 1), primary key (id))
create table route_location (id bigint generated by default as identity (start with 1), latitude double, location_code varchar(255), longitude double, route_id bigint, primary key (id))
create table user (user_id bigint generated by default as identity (start with 1), active boolean, country varchar(255), email varchar(255), first_name varchar(255), home_town varchar(255), last_name varchar(255), password varchar(255), phone_number varchar(255), profile_picture_url varchar(255), roles varchar(255), primary key (user_id))
alter table contact_contacts add constraint UK_2ngcy4w1hjd1792cad2xtpp1p unique (contacts_user_id)
alter table car add constraint FKlolhfn4hivlmxajrirccbmsfc foreign key (driver_id) references user
alter table car_ride_details add constraint FKqtegqanxsmsxbdu11yvosdkbg foreign key (driver_id) references user
alter table contact_contacts add constraint FKm7yqb0hdq4j4wl6myylfs388i foreign key (contacts_user_id) references user
alter table contact_contacts add constraint FKc5l5a1h80pqeged741a5qnbo6 foreign key (contact_id) references contact
alter table my_notification add constraint FKoqxtgwlxe3jxtp8095juo7yq1 foreign key (by_user_id) references user
alter table review add constraint FKo92k9afyherb1ledkcoppu280 foreign key (left_by_user_user_id) references user
alter table ride add constraint FKr6cg64n4bjq4yqt44w4mvk30u foreign key (car_ride_details_id) references car_ride_details
alter table ride add constraint FK7kppynubufyudgquwdd5npiny foreign key (route_id) references ride_route
alter table ride_passengers add constraint FKsp90tslbiqey7ce9n451r58x1 foreign key (passengers_user_id) references user
alter table ride_passengers add constraint FKoyq8pw5n223xcgomkq51e39tm foreign key (ride_ride_id) references ride
alter table ride_request add constraint FKr5luj78s3754owm4f7lvdaa1l foreign key (request_by_user_id) references user
alter table ride_request add constraint FKn6y6pjjpcahestxm53hatxsal foreign key (ride_ride_id) references ride
alter table route_location add constraint FK58io8yqej000cdypd6tp81jwi foreign key (route_id) references ride_route
INSERT INTO USER VALUES(1,TRUE,'Macedonia','test@mail.com','Antonio','Skopje','Krstevski','1234','071000000','','ROLE_USER')
COMMIT
INSERT INTO CAR VALUES(1,TRUE,FALSE,'Blue',4,'Toyota ',TRUE,'',FALSE,1)
COMMIT
/*C14*/SET SCHEMA PUBLIC
INSERT INTO CAR VALUES(2,FALSE,TRUE,'Red',3,'Mercedes',FALSE,'',FALSE,1)
COMMIT
/*C12*/DELETE FROM CAR WHERE CAR_ID=1
INSERT INTO CAR VALUES(1,FALSE,FALSE,'Blue',4,'Toyota ',TRUE,'',FALSE,1)
COMMIT
DELETE FROM CAR WHERE CAR_ID=1
INSERT INTO CAR VALUES(1,TRUE,FALSE,'Blue',4,'Toyota ',TRUE,'',TRUE,1)
COMMIT
/*C13*/SET SCHEMA PUBLIC
DELETE FROM CAR WHERE CAR_ID=1
INSERT INTO CAR VALUES(1,FALSE,FALSE,'Blue',4,'Toyota ',TRUE,'',TRUE,1)
COMMIT
DELETE FROM CAR WHERE CAR_ID=1
INSERT INTO CAR VALUES(1,TRUE,FALSE,'Blue',4,'Toyota ',TRUE,'',FALSE,1)
COMMIT
/*C12*/INSERT INTO CAR_RIDE_DETAILS VALUES(1,TRUE,FALSE,1,'Blue',4,'Toyota ',TRUE,'',FALSE,1)
INSERT INTO RIDE_ROUTE VALUES(1)
INSERT INTO ROUTE_LOCATION VALUES(1,41.99253658066986E0,'MKD&\u0421\u043a\u043e\u043f\u0458\u0435&\u0426\u0435\u043d\u0442\u0430\u0440&\u0423\u043b\u0438\u0446\u0430 \u0414\u0438\u043c\u0438\u0442\u0440\u0438\u0458\u0435 \u041b\u0443\u043f\u043e\u0432\u0441\u043a\u0438',21.434281025212886E0,NULL)
INSERT INTO ROUTE_LOCATION VALUES(2,41.121551156436745E0,'MKD&\u041e\u0445\u0440\u0438\u0434&\u041e\u0445\u0440\u0438\u0434&\u0423\u043b\u0438\u0446\u0430 \u041e\u0445\u0440\u0438\u0434\u0441\u043a\u0430 \u0431\u0440\u0438\u0433\u0430\u0434\u0430 15',20.803887684853855E0,NULL)
INSERT INTO RIDE VALUES(1,FALSE,400,'2020-04-30 15:00:00.000000',1,1)
DELETE FROM ROUTE_LOCATION WHERE ID=1
INSERT INTO ROUTE_LOCATION VALUES(1,41.99253658066986E0,'MKD&\u0421\u043a\u043e\u043f\u0458\u0435&\u0426\u0435\u043d\u0442\u0430\u0440&\u0423\u043b\u0438\u0446\u0430 \u0414\u0438\u043c\u0438\u0442\u0440\u0438\u0458\u0435 \u041b\u0443\u043f\u043e\u0432\u0441\u043a\u0438',21.434281025212886E0,1)
DELETE FROM ROUTE_LOCATION WHERE ID=2
INSERT INTO ROUTE_LOCATION VALUES(2,41.121551156436745E0,'MKD&\u041e\u0445\u0440\u0438\u0434&\u041e\u0445\u0440\u0438\u0434&\u0423\u043b\u0438\u0446\u0430 \u041e\u0445\u0440\u0438\u0434\u0441\u043a\u0430 \u0431\u0440\u0438\u0433\u0430\u0434\u0430 15',20.803887684853855E0,1)
COMMIT
INSERT INTO RIDE_REQUEST VALUES(1,'',2,2,'2020-04-04 14:38:59.459000',1,1)
COMMIT
/*C14*/INSERT INTO RIDE_PASSENGERS VALUES(1,1)
COMMIT
DELETE FROM CAR_RIDE_DETAILS WHERE ID=1
INSERT INTO CAR_RIDE_DETAILS VALUES(1,TRUE,FALSE,1,'Blue',2,'Toyota ',TRUE,'',FALSE,1)
COMMIT
DELETE FROM RIDE_REQUEST WHERE REQUEST_ID=1
INSERT INTO RIDE_REQUEST VALUES(1,'',0,2,'2020-04-04 14:38:59.459000',1,1)
COMMIT
INSERT INTO MY_NOTIFICATION VALUES(1,'accepted the ride request from MKD \u0421\u043a\u043e\u043f\u0458\u0435 \u0426\u0435\u043d\u0442\u0430\u0440 \u0423\u043b\u0438\u0446\u0430 \u0414\u0438\u043c\u0438\u0442\u0440\u0438\u0458\u0435 \u041b\u0443\u043f\u043e\u0432\u0441\u043a\u0438 to MKD \u041e\u0445\u0440\u0438\u0434 \u041e\u0445\u0440\u0438\u0434 \u0423\u043b\u0438\u0446\u0430 \u041e\u0445\u0440\u0438\u0434\u0441\u043a\u0430 \u0431\u0440\u0438\u0433\u0430\u0434\u0430 15 on 2020-04-30 03:00','2020-04-04 14:40:08.965000',1,1)
COMMIT
/*C12*/INSERT INTO CAR_RIDE_DETAILS VALUES(2,TRUE,FALSE,1,'Blue',4,'Toyota ',TRUE,'',FALSE,1)
INSERT INTO RIDE_ROUTE VALUES(2)
INSERT INTO ROUTE_LOCATION VALUES(3,41.99696998695311E0,'MKD&\u0421\u043a\u043e\u043f\u0458\u0435&\u0426\u0435\u043d\u0442\u0430\u0440&\u0423\u043b\u0438\u0446\u0430 \u041e\u0440\u0446\u0435 \u041d\u0438\u043a\u043e\u043b\u043e\u0432 55',21.429689074195487E0,NULL)
INSERT INTO ROUTE_LOCATION VALUES(4,41.993461561431715E0,'MKD&\u0421\u043a\u043e\u043f\u0458\u0435&\u0426\u0435\u043d\u0442\u0430\u0440&\u0423\u043b\u0438\u0446\u0430 \u0424\u0438\u043b\u0438\u043f \u0412\u0442\u043e\u0440\u0438 \u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438',21.43518224924434E0,NULL)
INSERT INTO RIDE VALUES(2,FALSE,100,'2020-04-03 14:41:00.000000',2,2)
DELETE FROM ROUTE_LOCATION WHERE ID=3
INSERT INTO ROUTE_LOCATION VALUES(3,41.99696998695311E0,'MKD&\u0421\u043a\u043e\u043f\u0458\u0435&\u0426\u0435\u043d\u0442\u0430\u0440&\u0423\u043b\u0438\u0446\u0430 \u041e\u0440\u0446\u0435 \u041d\u0438\u043a\u043e\u043b\u043e\u0432 55',21.429689074195487E0,2)
DELETE FROM ROUTE_LOCATION WHERE ID=4
INSERT INTO ROUTE_LOCATION VALUES(4,41.993461561431715E0,'MKD&\u0421\u043a\u043e\u043f\u0458\u0435&\u0426\u0435\u043d\u0442\u0430\u0440&\u0423\u043b\u0438\u0446\u0430 \u0424\u0438\u043b\u0438\u043f \u0412\u0442\u043e\u0440\u0438 \u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438',21.43518224924434E0,2)
COMMIT
INSERT INTO RIDE_REQUEST VALUES(2,'',2,1,'2020-04-04 14:41:32.667000',1,2)
COMMIT
/*C13*/INSERT INTO RIDE_PASSENGERS VALUES(2,1)
COMMIT
DELETE FROM CAR_RIDE_DETAILS WHERE ID=2
INSERT INTO CAR_RIDE_DETAILS VALUES(2,TRUE,FALSE,1,'Blue',3,'Toyota ',TRUE,'',FALSE,1)
COMMIT
DELETE FROM RIDE_REQUEST WHERE REQUEST_ID=2
INSERT INTO RIDE_REQUEST VALUES(2,'',0,1,'2020-04-04 14:41:32.667000',1,2)
COMMIT
INSERT INTO MY_NOTIFICATION VALUES(2,'accepted the ride request from MKD \u0421\u043a\u043e\u043f\u0458\u0435 \u0426\u0435\u043d\u0442\u0430\u0440 \u0423\u043b\u0438\u0446\u0430 \u041e\u0440\u0446\u0435 \u041d\u0438\u043a\u043e\u043b\u043e\u0432 55 to MKD \u0421\u043a\u043e\u043f\u0458\u0435 \u0426\u0435\u043d\u0442\u0430\u0440 \u0423\u043b\u0438\u0446\u0430 \u0424\u0438\u043b\u0438\u043f \u0412\u0442\u043e\u0440\u0438 \u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438 on 2020-04-03 02:41','2020-04-04 14:41:49.359000',1,1)
COMMIT
/*C12*/INSERT INTO REVIEW VALUES(1,'2020-04-04 14:42:43.382000','The driver is very kind.',5,2,1)
COMMIT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
DISCONNECT
/*C26*/SET SCHEMA PUBLIC
DISCONNECT
/*C25*/SET SCHEMA PUBLIC
DISCONNECT
/*C31*/SET SCHEMA PUBLIC
DISCONNECT
/*C30*/SET SCHEMA PUBLIC
DISCONNECT
/*C24*/SET SCHEMA PUBLIC
DISCONNECT
/*C27*/SET SCHEMA PUBLIC
DISCONNECT
/*C23*/SET SCHEMA PUBLIC
DISCONNECT
/*C29*/SET SCHEMA PUBLIC
DISCONNECT
/*C28*/SET SCHEMA PUBLIC
DISCONNECT
/*C32*/SET SCHEMA PUBLIC
DISCONNECT
/*C33*/SET SCHEMA PUBLIC
DISCONNECT
/*C34*/SET SCHEMA PUBLIC
DISCONNECT
/*C35*/SET SCHEMA PUBLIC
DISCONNECT
/*C36*/SET SCHEMA PUBLIC
DISCONNECT
/*C37*/SET SCHEMA PUBLIC
DISCONNECT
/*C38*/SET SCHEMA PUBLIC
DISCONNECT
/*C39*/SET SCHEMA PUBLIC
DISCONNECT
/*C40*/SET SCHEMA PUBLIC
DISCONNECT
/*C41*/SET SCHEMA PUBLIC
DISCONNECT
